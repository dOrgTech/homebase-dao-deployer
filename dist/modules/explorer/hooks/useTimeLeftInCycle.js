'use strict';Object.defineProperty(exports,'__esModule',{value:true});exports.useTimeLeftInCycle=void 0;const react_1=require('react');const useDAO_1=require('../../../services/services/dao/hooks/useDAO');const router_1=require('../pages/DAO/router');const useTimeLeftInCycle=()=>{const daoID=(0,router_1.useDAOID)();const {cycleInfo}=(0,useDAO_1.useDAO)(daoID);const [counter,setCounter]=(0,react_1.useState)(0);const [oldCycle,setOldCycle]=(0,react_1.useState)(0);const [time,setTime]=(0,react_1.useState)({hours:'-',minutes:'-',days:'-'});(0,react_1.useEffect)(()=>{if(cycleInfo){const pendingCycles=cycleInfo.blocksLeft;setCounter(pendingCycles*cycleInfo.timeEstimateForNextBlock);if(cycleInfo.blocksLeft!==oldCycle){setOldCycle(cycleInfo.blocksLeft*cycleInfo.timeEstimateForNextBlock);}}},[cycleInfo,oldCycle]);(0,react_1.useEffect)(()=>{setTime({hours:Math.floor(counter%(3600*24)/3600).toString(),minutes:Math.floor(counter%3600/60).toString(),days:Math.floor(counter/(3600*24)).toString()});},[counter]);return time;};exports.useTimeLeftInCycle=useTimeLeftInCycle;