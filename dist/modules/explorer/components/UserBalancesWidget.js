'use strict';var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{'default':mod};};Object.defineProperty(exports,'__esModule',{value:true});exports.UserBalancesWidget=void 0;const jsx_runtime_1=require('react/jsx-runtime');const core_1=require('@material-ui/core');const bignumber_js_1=__importDefault(require('bignumber.js'));const hex_to_rgba_1=__importDefault(require('hex-to-rgba'));const react_1=require('react');const useTezos_1=require('../../../services/beacon/hooks/useTezos');const useDAO_1=require('../../../services/services/dao/hooks/useDAO');const router_1=require('../pages/DAO/router');const BalanceBox=(0,core_1.styled)(core_1.Grid)(({radiusSide,color})=>{let borderRadius='0';switch(radiusSide){case'none':{break;}case'left':{borderRadius='4px 0 0 4px';break;}case'right':{borderRadius='0 4px 4px 0';break;}}return{'width':166,'height':41.85,borderRadius,color,'backgroundColor':(0,hex_to_rgba_1.default)(color,0.15),'& > div':{height:'100%'}};});const TitleText=(0,core_1.styled)(core_1.Typography)({fontSize:11,fontWeight:500});const BalanceText=(0,core_1.styled)(core_1.Typography)({fontSize:15,fontWeight:500});const UserBalancesWidget=()=>{const {account}=(0,useTezos_1.useTezos)();const daoId=(0,router_1.useDAOID)();const {ledger,data:dao}=(0,useDAO_1.useDAO)(daoId);const theme=(0,core_1.useTheme)();const userLedger=(0,react_1.useMemo)(()=>{const found=ledger===null||ledger===void 0?void 0:ledger.find(l=>l.holder.address.toLowerCase()===account.toLowerCase());return found||{available_balance:new bignumber_js_1.default(0),pending_balance:new bignumber_js_1.default(0),staked:new bignumber_js_1.default(0)};},[account,ledger]);return(0,jsx_runtime_1.jsx)(core_1.Grid,{container:true,justifyContent:'center',children:userLedger&&dao&&(0,jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment,{children:[(0,jsx_runtime_1.jsx)(BalanceBox,{item:true,color:theme.palette.secondary.main,radiusSide:'left',children:(0,jsx_runtime_1.jsx)(core_1.Grid,{container:true,alignItems:'center',justifyContent:'center',children:(0,jsx_runtime_1.jsxs)(core_1.Grid,{item:true,children:[(0,jsx_runtime_1.jsx)(TitleText,{align:'center',color:'inherit',children:'Available Balance'}),(0,jsx_runtime_1.jsxs)(BalanceText,{align:'center',color:'textPrimary',children:[userLedger.available_balance.toString(),' ',dao.data.token.symbol]})]})})}),(0,jsx_runtime_1.jsx)(BalanceBox,{item:true,color:theme.palette.warning.main,radiusSide:'none',children:(0,jsx_runtime_1.jsx)(core_1.Grid,{container:true,alignItems:'center',justifyContent:'center',children:(0,jsx_runtime_1.jsxs)(core_1.Grid,{item:true,children:[(0,jsx_runtime_1.jsx)(TitleText,{align:'center',color:'inherit',children:'Pending Balance'}),(0,jsx_runtime_1.jsxs)(BalanceText,{align:'center',color:'textPrimary',children:[userLedger.pending_balance.toString(),' ',dao.data.token.symbol]})]})})}),(0,jsx_runtime_1.jsx)(BalanceBox,{item:true,color:theme.palette.info.main,radiusSide:'right',children:(0,jsx_runtime_1.jsx)(core_1.Grid,{container:true,alignItems:'center',justifyContent:'center',children:(0,jsx_runtime_1.jsxs)(core_1.Grid,{item:true,children:[(0,jsx_runtime_1.jsx)(TitleText,{align:'center',color:'inherit',children:'Staked Balance'}),(0,jsx_runtime_1.jsxs)(BalanceText,{align:'center',color:'textPrimary',children:[userLedger.staked.toString(),' ',dao.data.token.symbol]})]})})})]})});};exports.UserBalancesWidget=UserBalancesWidget;