'use strict';Object.defineProperty(exports,'__esModule',{value:true});exports.Template=void 0;const jsx_runtime_1=require('react/jsx-runtime');const react_1=require('react');const core_1=require('@material-ui/core');const react_router_1=require('react-router');const lite_dao_svg_1=require('../../../assets/img/lite-dao.svg');const full_dao_svg_1=require('../../../assets/img/full-dao.svg');const state_1=require('../state');const TitleBlock_1=require('../../common/TitleBlock');const react_router_dom_1=require('react-router-dom');const LambdaCustomBox=(0,core_1.styled)(core_1.Grid)(({theme})=>({'height':273,'marginTop':30,'background':'#2F3438','borderRadius':8,'maxWidth':320,'width':'-webkit-fill-available','padding':'40px 44px','textAlign':'start','cursor':'pointer','paddingBottom':0,'&:hover':{border:'3px solid rgba(129, 254, 183, 0.4)',paddingTop:37,paddingBottom:0,paddingRight:41,paddingLeft:41},['@media (max-width:1167px)']:{marginBottom:20,marginTop:0}}));const styles=(0,core_1.makeStyles)({selected:{border:'3px solid rgba(129, 254, 183, 0.4)',padding:'37px 41px'}});const ErrorText=(0,core_1.styled)(core_1.Typography)({display:'block',fontSize:14,color:'red',marginTop:8});const BoxTitle=(0,core_1.styled)(core_1.Typography)({fontSize:18,fontWeight:500,fontFamily:'Roboto Mono',marginBottom:10});const BoxDescription=(0,core_1.styled)(core_1.Typography)({fontWeight:300,fontSize:16});const Template=()=>{const {state,dispatch,updateCache}=(0,react_1.useContext)(state_1.CreatorContext);const {template}=state.data;const history=(0,react_router_1.useHistory)();const match=(0,react_router_dom_1.useRouteMatch)();const theme=(0,core_1.useTheme)();const style=styles();const isMobileSmall=(0,core_1.useMediaQuery)(theme.breakpoints.down('xs'));const [selectedTemplate,setTemplate]=(0,react_1.useState)(template);const [error,setError]=(0,react_1.useState)(false);(0,react_1.useEffect)(()=>{dispatch({type:state_1.ActionTypes.UPDATE_NAVIGATION_BAR,next:{handler:()=>{if(!selectedTemplate){return setError(true);}dispatch({type:state_1.ActionTypes.UPDATE_TEMPLATE,template:selectedTemplate});if(selectedTemplate==='lambda'){return history.push(`dao`);}return history.push('/lite');},text:'Continue'}});},[dispatch,history,match.path,match.url,selectedTemplate]);const update=templateValue=>{setError(false);setTemplate(templateValue);};return(0,jsx_runtime_1.jsxs)(core_1.Box,{children:[(0,jsx_runtime_1.jsx)(TitleBlock_1.TitleBlock,{title:'DAO Creator',description:'Create an organization by picking a template below.'}),(0,jsx_runtime_1.jsxs)(core_1.Grid,{container:true,justifyContent:isMobileSmall?'center':'space-between',direction:'row',children:[(0,jsx_runtime_1.jsxs)(LambdaCustomBox,{item:true,container:true,direction:'column',justifyContent:'flex-start',alignItems:'center',xs:isMobileSmall?12:6,onClick:()=>update('lambda'),className:selectedTemplate==='lambda'?style.selected:'',children:[(0,jsx_runtime_1.jsx)(full_dao_svg_1.ReactComponent,{style:{marginBottom:14}}),(0,jsx_runtime_1.jsx)(BoxTitle,{color:'textSecondary',children:'Full DAO'}),(0,jsx_runtime_1.jsx)(BoxDescription,{color:'textSecondary',children:'Contract interaction. Transfer assets based on vote outcomes.'})]}),' ',(0,jsx_runtime_1.jsxs)(LambdaCustomBox,{item:true,container:true,direction:'column',justifyContent:'flex-start',alignItems:'center',xs:isMobileSmall?12:6,onClick:()=>update('lite'),className:selectedTemplate==='lite'?style.selected:'',children:[(0,jsx_runtime_1.jsx)(lite_dao_svg_1.ReactComponent,{style:{marginBottom:14}}),(0,jsx_runtime_1.jsx)(BoxTitle,{color:'textSecondary',children:'Lite DAO'}),(0,jsx_runtime_1.jsxs)(BoxDescription,{color:'textSecondary',children:['Off-chain weighted voting. Multiple voting strategies. No treasury.',' ']})]}),' ']}),error?(0,jsx_runtime_1.jsx)(ErrorText,{children:'Must select a template in order to continue'}):null]});};exports.Template=Template;