'use strict';Object.defineProperty(exports,'__esModule',{value:true});exports.Summary=void 0;const jsx_runtime_1=require('react/jsx-runtime');const core_1=require('@material-ui/core');const react_1=require('react');const react_router_dom_1=require('react-router-dom');const state_1=require('../state');const TitleBlock_1=require('../../common/TitleBlock');const utils_1=require('../../../services/contracts/utils');const SecondContainer=(0,core_1.styled)(core_1.Grid)({marginTop:42,background:'#2F3438',borderRadius:8,padding:'26px 48px',boxSizing:'border-box'});const ThirdContainer=(0,core_1.styled)(core_1.Grid)({marginTop:42,background:'#2F3438',borderRadius:8,boxSizing:'border-box'});const ThirdContainerFirstRow=(0,core_1.styled)(core_1.Grid)({padding:'19px 48px',borderBottom:'0.3px solid #7D8C8B',alignItems:'center',display:'flex',maxHeight:70,['@media (max-width:1167px)']:{padding:'12px 15px',maxHeight:'inherit'}});const ThirdContainerLastRow=(0,core_1.styled)(core_1.Grid)({padding:'19px 48px',alignItems:'center',display:'flex',maxHeight:70,['@media (max-width:1167px)']:{padding:'12px 15px',maxHeight:'inherit'}});const ThirdContainerRow=(0,core_1.styled)(core_1.Grid)({borderBottom:'0.3px solid #7D8C8B',padding:'24px 48px',maxHeight:70,['@media (max-width:1167px)']:{padding:'12px 15px',maxHeight:'inherit'}});const ThirdContainerSpecialRow=(0,core_1.styled)(core_1.Grid)({borderBottom:'0.3px solid #7D8C8B',borderTop:'0.3px solid #7D8C8B',padding:'24px 48px',maxHeight:70,['@media (max-width:1167px)']:{padding:'12px 15px',maxHeight:'inherit'}});const FirstContainer=(0,core_1.styled)(core_1.Grid)({background:'#2F3438',borderRadius:8,padding:'22px 48px',boxSizing:'border-box',marginTop:4});const TitleSpacing=(0,core_1.styled)(core_1.Typography)({marginTop:8});const DescriptionSpacing=(0,core_1.styled)(core_1.Typography)({marginTop:16});const ContainerEdit=(0,core_1.styled)(core_1.Typography)({cursor:'pointer'});const AdminAddress=(0,core_1.styled)(core_1.Typography)({wordBreak:'break-all'});const Summary=()=>{const {dispatch,state}=(0,react_1.useContext)(state_1.CreatorContext);const history=(0,react_router_dom_1.useHistory)();const match=(0,react_router_dom_1.useRouteMatch)();const theme=(0,core_1.useTheme)();const isMobile=(0,core_1.useMediaQuery)(theme.breakpoints.down('sm'));const goToVoting=()=>{history.push(`voting`);};const goToQuorum=()=>{history.push(`quorum`);};const goToSettings=()=>{history.push(`dao`);};(0,react_1.useEffect)(()=>{dispatch({type:state_1.ActionTypes.UPDATE_NAVIGATION_BAR,next:{handler:()=>{history.push(`review`);},text:'Launch'},back:{handler:()=>history.push(`quorum`),text:'Back'}});},[dispatch,history,match.path,match.url]);return(0,jsx_runtime_1.jsx)(core_1.Box,{children:(0,jsx_runtime_1.jsxs)(core_1.Grid,{container:true,direction:'row',justifyContent:'space-between',style:{height:'fit-content'},children:[(0,jsx_runtime_1.jsx)(TitleBlock_1.TitleBlock,{title:'Review information',description:'Review your settings to ensure you\u2019ve made the correct choices.'}),(0,jsx_runtime_1.jsxs)(FirstContainer,{container:true,direction:'row',children:[(0,jsx_runtime_1.jsx)(core_1.Grid,{item:true,xs:12,children:(0,jsx_runtime_1.jsxs)(core_1.Grid,{container:true,direction:'row',justifyContent:'space-between',alignItems:'center',children:[(0,jsx_runtime_1.jsx)(TitleSpacing,{color:'secondary',variant:'subtitle1',children:state.data.orgSettings.symbol}),(0,jsx_runtime_1.jsx)(ContainerEdit,{color:'secondary',onClick:goToSettings,children:'Edit'})]})}),(0,jsx_runtime_1.jsx)(core_1.Grid,{item:true,xs:12,children:(0,jsx_runtime_1.jsx)(TitleSpacing,{color:'textSecondary',variant:'h3',children:state.data.orgSettings.name})}),(0,jsx_runtime_1.jsx)(core_1.Grid,{item:true,xs:12,children:(0,jsx_runtime_1.jsx)(DescriptionSpacing,{color:'textSecondary',variant:'body1',children:state.data.orgSettings.description})})]}),(0,jsx_runtime_1.jsxs)(ThirdContainer,{container:true,direction:'row',children:[(0,jsx_runtime_1.jsx)(ThirdContainerFirstRow,{item:true,xs:12,children:(0,jsx_runtime_1.jsxs)(core_1.Grid,{container:true,direction:isMobile?'column':'row',alignItems:isMobile?'baseline':'center',justifyContent:'space-between',children:[(0,jsx_runtime_1.jsx)(TitleSpacing,{color:'textSecondary',variant:'subtitle1',children:'DAO SETTINGS'}),(0,jsx_runtime_1.jsx)(ContainerEdit,{color:'secondary',onClick:goToSettings,children:'Edit'})]})}),(0,jsx_runtime_1.jsx)(ThirdContainerRow,{item:true,xs:12,children:(0,jsx_runtime_1.jsxs)(core_1.Grid,{container:true,direction:'row',alignItems:'center',children:[(0,jsx_runtime_1.jsx)(core_1.Grid,{item:true,xs:5,children:(0,jsx_runtime_1.jsx)(core_1.Typography,{variant:'subtitle2',color:'textSecondary',children:'Administrator'})}),(0,jsx_runtime_1.jsx)(core_1.Grid,{item:true,xs:7,children:(0,jsx_runtime_1.jsx)(AdminAddress,{variant:'subtitle2',color:'textSecondary',align:'right',children:isMobile?(0,utils_1.toShortAddress)(state.data.orgSettings.administrator):state.data.orgSettings.administrator})})]})}),(0,jsx_runtime_1.jsx)(ThirdContainerRow,{item:true,xs:12,children:(0,jsx_runtime_1.jsxs)(core_1.Grid,{container:true,direction:'row',alignItems:'center',children:[(0,jsx_runtime_1.jsx)(core_1.Grid,{item:true,xs:5,children:(0,jsx_runtime_1.jsx)(core_1.Typography,{variant:'subtitle2',color:'textSecondary',children:'Guardian'})}),(0,jsx_runtime_1.jsx)(core_1.Grid,{item:true,xs:7,children:(0,jsx_runtime_1.jsx)(AdminAddress,{variant:'subtitle2',color:'textSecondary',align:'right',children:isMobile?(0,utils_1.toShortAddress)(state.data.orgSettings.guardian):state.data.orgSettings.guardian})})]})}),(0,jsx_runtime_1.jsx)(ThirdContainerRow,{item:true,xs:12,children:(0,jsx_runtime_1.jsxs)(core_1.Grid,{item:true,container:true,direction:'row',alignItems:'center',children:[(0,jsx_runtime_1.jsx)(core_1.Grid,{item:true,xs:5,children:(0,jsx_runtime_1.jsx)(core_1.Typography,{variant:'subtitle2',color:'textSecondary',children:'Governance Token Address'})}),(0,jsx_runtime_1.jsx)(core_1.Grid,{item:true,xs:7,children:(0,jsx_runtime_1.jsx)(AdminAddress,{variant:'subtitle2',color:'textSecondary',align:'right',children:isMobile?(0,utils_1.toShortAddress)(state.data.orgSettings.governanceToken.address):state.data.orgSettings.governanceToken.address})})]})}),(0,jsx_runtime_1.jsx)(ThirdContainerLastRow,{item:true,xs:12,children:(0,jsx_runtime_1.jsxs)(core_1.Grid,{item:true,container:true,direction:'row',alignItems:'center',children:[(0,jsx_runtime_1.jsx)(core_1.Grid,{item:true,xs:5,children:(0,jsx_runtime_1.jsx)(core_1.Typography,{variant:'subtitle2',color:'textSecondary',children:'Governance Token ID'})}),(0,jsx_runtime_1.jsx)(core_1.Grid,{item:true,xs:7,children:(0,jsx_runtime_1.jsx)(core_1.Typography,{variant:'subtitle2',color:'textSecondary',align:'right',children:state.data.orgSettings.governanceToken.tokenId})})]})})]}),(0,jsx_runtime_1.jsxs)(ThirdContainer,{container:true,direction:'row',children:[(0,jsx_runtime_1.jsx)(ThirdContainerFirstRow,{item:true,xs:12,children:(0,jsx_runtime_1.jsxs)(core_1.Grid,{container:true,direction:isMobile?'column':'row',alignItems:isMobile?'baseline':'center',justifyContent:'space-between',children:[(0,jsx_runtime_1.jsx)(TitleSpacing,{color:'textSecondary',variant:'subtitle1',children:'PROPOSAL & VOTING SETTINGS'}),(0,jsx_runtime_1.jsx)(ContainerEdit,{color:'secondary',onClick:goToVoting,children:'Edit'})]})}),(0,jsx_runtime_1.jsx)(ThirdContainerRow,{item:true,xs:12,children:(0,jsx_runtime_1.jsxs)(core_1.Grid,{item:true,container:true,direction:'row',alignItems:'center',children:[(0,jsx_runtime_1.jsx)(core_1.Grid,{item:true,xs:7,children:(0,jsx_runtime_1.jsx)(core_1.Typography,{variant:'subtitle2',color:'textSecondary',children:'Voting Period Duration'})}),(0,jsx_runtime_1.jsx)(core_1.Grid,{item:true,xs:5,children:(0,jsx_runtime_1.jsxs)(core_1.Typography,{variant:'subtitle2',color:'textSecondary',align:'right',children:[state.data.votingSettings.votingBlocks,' blocks']})})]})}),(0,jsx_runtime_1.jsx)(ThirdContainerRow,{item:true,xs:12,children:(0,jsx_runtime_1.jsxs)(core_1.Grid,{item:true,container:true,direction:'row',alignItems:'center',children:[(0,jsx_runtime_1.jsx)(core_1.Grid,{item:true,xs:7,children:(0,jsx_runtime_1.jsx)(core_1.Typography,{variant:'subtitle2',color:'textSecondary',children:'Proposal Execution Delay'})}),(0,jsx_runtime_1.jsx)(core_1.Grid,{item:true,xs:5,children:(0,jsx_runtime_1.jsxs)(core_1.Typography,{variant:'subtitle2',color:'textSecondary',align:'right',children:[state.data.votingSettings.proposalFlushBlocks,' blocks']})})]})}),(0,jsx_runtime_1.jsx)(ThirdContainerRow,{item:true,xs:12,children:(0,jsx_runtime_1.jsxs)(core_1.Grid,{item:true,container:true,direction:'row',alignItems:'center',children:[(0,jsx_runtime_1.jsx)(core_1.Grid,{item:true,xs:7,children:(0,jsx_runtime_1.jsx)(core_1.Typography,{variant:'subtitle2',color:'textSecondary',children:'Proposal blocks to expire'})}),(0,jsx_runtime_1.jsx)(core_1.Grid,{item:true,xs:5,children:(0,jsx_runtime_1.jsxs)(core_1.Typography,{variant:'subtitle2',color:'textSecondary',align:'right',children:[state.data.votingSettings.proposalExpiryBlocks,' blocks']})})]})}),(0,jsx_runtime_1.jsx)(ThirdContainerRow,{item:true,xs:12,children:(0,jsx_runtime_1.jsxs)(core_1.Grid,{item:true,container:true,direction:'row',alignItems:'center',children:[(0,jsx_runtime_1.jsx)(core_1.Grid,{item:true,xs:7,children:(0,jsx_runtime_1.jsx)(core_1.Typography,{variant:'subtitle2',color:'textSecondary',children:'Stake required to propose'})}),(0,jsx_runtime_1.jsx)(core_1.Grid,{item:true,xs:5,children:(0,jsx_runtime_1.jsxs)(core_1.Typography,{variant:'subtitle2',color:'textSecondary',align:'right',children:[state.data.votingSettings.proposeStakeRequired,' locked tokens']})})]})}),(0,jsx_runtime_1.jsx)(ThirdContainerLastRow,{item:true,xs:12,children:(0,jsx_runtime_1.jsxs)(core_1.Grid,{item:true,container:true,direction:'row',alignItems:'center',children:[(0,jsx_runtime_1.jsx)(core_1.Grid,{item:true,xs:7,children:(0,jsx_runtime_1.jsx)(core_1.Typography,{variant:'subtitle2',color:'textSecondary',children:'Stake returned if rejected'})}),(0,jsx_runtime_1.jsx)(core_1.Grid,{item:true,xs:5,children:(0,jsx_runtime_1.jsxs)(core_1.Typography,{variant:'subtitle2',color:'textSecondary',align:'right',children:[state.data.votingSettings.returnedTokenPercentage,'% of locked tokens']})})]})}),(0,jsx_runtime_1.jsx)(ThirdContainerSpecialRow,{item:true,xs:12,children:(0,jsx_runtime_1.jsxs)(core_1.Grid,{item:true,container:true,direction:'row',alignItems:'center',children:[(0,jsx_runtime_1.jsx)(core_1.Grid,{item:true,xs:7,children:(0,jsx_runtime_1.jsx)(core_1.Typography,{variant:'subtitle2',color:'textSecondary',children:'Transfer maximum XTZ amount'})}),(0,jsx_runtime_1.jsx)(core_1.Grid,{item:true,xs:5,children:(0,jsx_runtime_1.jsxs)(core_1.Typography,{variant:'subtitle2',color:'textSecondary',align:'right',children:[state.data.votingSettings.maxXtzAmount,' XTZ']})})]})}),(0,jsx_runtime_1.jsx)(ThirdContainerLastRow,{item:true,xs:12,children:(0,jsx_runtime_1.jsxs)(core_1.Grid,{item:true,container:true,direction:'row',alignItems:'center',children:[(0,jsx_runtime_1.jsx)(core_1.Grid,{item:true,xs:7,children:(0,jsx_runtime_1.jsx)(core_1.Typography,{variant:'subtitle2',color:'textSecondary',children:'Transfer minimum XTZ amount'})}),(0,jsx_runtime_1.jsx)(core_1.Grid,{item:true,xs:5,children:(0,jsx_runtime_1.jsxs)(core_1.Typography,{variant:'subtitle2',color:'textSecondary',align:'right',children:[state.data.votingSettings.minXtzAmount,' XTZ']})})]})})]}),(0,jsx_runtime_1.jsxs)(ThirdContainer,{container:true,direction:'row',children:[(0,jsx_runtime_1.jsx)(ThirdContainerFirstRow,{item:true,xs:12,children:(0,jsx_runtime_1.jsxs)(core_1.Grid,{container:true,direction:isMobile?'column':'row',alignItems:isMobile?'baseline':'center',justifyContent:'space-between',children:[(0,jsx_runtime_1.jsx)(TitleSpacing,{color:'textSecondary',variant:'subtitle1',children:'QUORUM SETTINGS'}),(0,jsx_runtime_1.jsx)(ContainerEdit,{color:'secondary',onClick:goToQuorum,children:'Edit'})]})}),(0,jsx_runtime_1.jsx)(ThirdContainerRow,{item:true,xs:12,children:(0,jsx_runtime_1.jsxs)(core_1.Grid,{item:true,container:true,direction:'row',alignItems:'center',children:[(0,jsx_runtime_1.jsx)(core_1.Grid,{item:true,sm:6,xs:7,children:(0,jsx_runtime_1.jsx)(core_1.Typography,{variant:'subtitle2',color:'textSecondary',children:'Quorum threshold'})}),(0,jsx_runtime_1.jsx)(core_1.Grid,{item:true,sm:6,xs:5,children:(0,jsx_runtime_1.jsxs)(core_1.Typography,{variant:'subtitle2',color:'textSecondary',align:'right',children:[state.data.quorumSettings.quorumThreshold,'%']})})]})}),(0,jsx_runtime_1.jsx)(ThirdContainerRow,{item:true,xs:12,children:(0,jsx_runtime_1.jsxs)(core_1.Grid,{item:true,container:true,direction:'row',alignItems:'center',children:[(0,jsx_runtime_1.jsx)(core_1.Grid,{item:true,sm:6,xs:7,children:(0,jsx_runtime_1.jsx)(core_1.Typography,{variant:'subtitle2',color:'textSecondary',children:'Quorum Change'})}),(0,jsx_runtime_1.jsx)(core_1.Grid,{item:true,xs:5,sm:6,children:(0,jsx_runtime_1.jsxs)(core_1.Typography,{variant:'subtitle2',color:'textSecondary',align:'right',children:[state.data.quorumSettings.quorumChange,'%']})})]})}),(0,jsx_runtime_1.jsx)(ThirdContainerRow,{item:true,xs:12,children:(0,jsx_runtime_1.jsxs)(core_1.Grid,{item:true,container:true,direction:'row',alignItems:'center',children:[(0,jsx_runtime_1.jsx)(core_1.Grid,{item:true,xs:7,sm:6,children:(0,jsx_runtime_1.jsx)(core_1.Typography,{variant:'subtitle2',color:'textSecondary',children:'Quorum Max Change'})}),(0,jsx_runtime_1.jsx)(core_1.Grid,{item:true,xs:5,sm:6,children:(0,jsx_runtime_1.jsxs)(core_1.Typography,{variant:'subtitle2',color:'textSecondary',align:'right',children:[state.data.quorumSettings.quorumMaxChange,'%']})})]})}),(0,jsx_runtime_1.jsx)(ThirdContainerRow,{item:true,xs:12,children:(0,jsx_runtime_1.jsxs)(core_1.Grid,{item:true,container:true,direction:'row',alignItems:'center',children:[(0,jsx_runtime_1.jsx)(core_1.Grid,{item:true,xs:7,sm:6,children:(0,jsx_runtime_1.jsx)(core_1.Typography,{variant:'subtitle2',color:'textSecondary',children:'Quorum Min. Amount'})}),(0,jsx_runtime_1.jsx)(core_1.Grid,{item:true,xs:5,sm:6,children:(0,jsx_runtime_1.jsxs)(core_1.Typography,{variant:'subtitle2',color:'textSecondary',align:'right',children:[state.data.quorumSettings.minQuorumAmount,'%']})})]})}),(0,jsx_runtime_1.jsx)(ThirdContainerLastRow,{item:true,xs:12,children:(0,jsx_runtime_1.jsxs)(core_1.Grid,{item:true,container:true,direction:'row',alignItems:'center',children:[(0,jsx_runtime_1.jsx)(core_1.Grid,{item:true,xs:7,sm:6,children:(0,jsx_runtime_1.jsx)(core_1.Typography,{variant:'subtitle2',color:'textSecondary',children:'Quorum Max. Amount'})}),(0,jsx_runtime_1.jsx)(core_1.Grid,{item:true,xs:5,sm:6,children:(0,jsx_runtime_1.jsxs)(core_1.Typography,{variant:'subtitle2',color:'textSecondary',align:'right',children:[state.data.quorumSettings.maxQuorumAmount,'%']})})]})})]})]})});};exports.Summary=Summary;