'use strict';Object.defineProperty(exports,'__esModule',{value:true});exports.Choices=void 0;const jsx_runtime_1=require('react/jsx-runtime');const core_1=require('@material-ui/core');const icons_1=require('@material-ui/icons');const formik_1=require('formik');const formik_material_ui_1=require('formik-material-ui');const ChoicesContainer=(0,core_1.styled)(core_1.Grid)(({theme})=>({paddingBottom:19,background:theme.palette.primary.main,borderRadius:4}));const RemoveCircle=(0,core_1.styled)(icons_1.RemoveCircleOutline)(({theme})=>({color:theme.palette.error.main,cursor:'pointer'}));const Title=(0,core_1.styled)(core_1.Grid)(({theme})=>({paddingLeft:26,paddingRight:26,paddingTop:19,paddingBottom:19,borderBottom:`0.3px solid ${theme.palette.primary.light}`,marginTop:'0px !important'}));const ChoiceText=(0,core_1.styled)(core_1.Typography)({fontWeight:300,fontSize:17});const VotingContainer=(0,core_1.styled)(core_1.Grid)(({theme})=>({padding:'19px 26px 0px',borderBottom:`0.3px solid ${theme.palette.primary.light}`,height:80,[theme.breakpoints.down('sm')]:{height:120}}));const CustomFormikTextField=(0,core_1.withStyles)({root:{'& .MuiInput-root':{fontWeight:300,textAlign:'initial',marginTop:'0px !important',padding:'19px 26px 19px'},'& .MuiInputBase-input':{textAlign:'initial'},'& .MuiInput-underline:before':{borderBottom:'none !important'},'& .MuiInput-underline:hover:before':{borderBottom:'none !important'},'& .MuiInput-underline:after':{borderBottom:'none !important'}},disabled:{}})(formik_material_ui_1.TextField);const Choices=({choices,submitForm,isLoading,votingStrategy,setFieldValue})=>{return(0,jsx_runtime_1.jsxs)(core_1.Grid,{container:true,direction:'column',style:{gap:30},children:[(0,jsx_runtime_1.jsxs)(ChoicesContainer,{container:true,direction:'column',children:[(0,jsx_runtime_1.jsx)(Title,{item:true,children:(0,jsx_runtime_1.jsx)(core_1.Typography,{variant:'body2',color:'textPrimary',children:'Set Poll Options'})}),(0,jsx_runtime_1.jsx)(VotingContainer,{item:true,children:(0,jsx_runtime_1.jsxs)(core_1.Grid,{container:true,children:[(0,jsx_runtime_1.jsxs)(core_1.Grid,{item:true,container:true,direction:'row',alignItems:'center',children:[(0,jsx_runtime_1.jsx)(formik_1.Field,{name:'votingStrategy',children:()=>(0,jsx_runtime_1.jsx)(core_1.Radio,{style:{paddingLeft:0},checked:Number(votingStrategy)===0,value:0,name:'radio-buttons',inputProps:{'aria-label':'A'},onClick:()=>setFieldValue('votingStrategy',0)})}),(0,jsx_runtime_1.jsx)(ChoiceText,{color:'textPrimary',children:'Single choice'})]}),(0,jsx_runtime_1.jsxs)(core_1.Grid,{item:true,container:true,direction:'row',alignItems:'center',children:[(0,jsx_runtime_1.jsx)(formik_1.Field,{name:'votingStrategy',children:()=>(0,jsx_runtime_1.jsx)(core_1.Radio,{style:{paddingLeft:0},checked:Number(votingStrategy)===1,value:1,name:'radio-buttons',inputProps:{'aria-label':'A'},onClick:()=>setFieldValue('votingStrategy',1)})}),(0,jsx_runtime_1.jsx)(ChoiceText,{color:'textPrimary',children:'Multiple choice'})]})]})}),(0,jsx_runtime_1.jsx)(formik_1.FieldArray,{name:'choices',render:arrayHelpers=>(0,jsx_runtime_1.jsxs)('div',{children:[choices&&choices.length>0?choices.map((choice,index)=>(0,jsx_runtime_1.jsx)('div',{children:(0,jsx_runtime_1.jsx)(formik_1.Field,{type:'text',name:`choices[${index}]`,placeholder:`Choice ${index+1}`,component:CustomFormikTextField,InputProps:{endAdornment:index!==0?(0,jsx_runtime_1.jsx)(core_1.InputAdornment,{position:'start',children:(0,jsx_runtime_1.jsx)(RemoveCircle,{onClick:()=>{if(index!==0){arrayHelpers.remove(index);}}})}):null}})},index)):null,(0,jsx_runtime_1.jsx)('div',{children:(0,jsx_runtime_1.jsxs)(core_1.Grid,{container:true,alignItems:'center',style:{gap:10,cursor:'pointer',paddingLeft:26,paddingTop:12},onClick:()=>arrayHelpers.insert(choices.length,''),children:[(0,jsx_runtime_1.jsx)(core_1.IconButton,{size:'small'}),(0,jsx_runtime_1.jsx)(core_1.Typography,{variant:'body2',color:'secondary',children:'Add Choice'})]})})]})})]}),(0,jsx_runtime_1.jsx)(core_1.Grid,{container:true,style:{gap:10,marginTop:31},children:!isLoading?(0,jsx_runtime_1.jsx)(core_1.Button,{variant:'contained',color:'secondary',onClick:submitForm,children:'Create Proposal'}):(0,jsx_runtime_1.jsx)(core_1.CircularProgress,{color:'secondary'})})]});};exports.Choices=Choices;