'use strict';var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{'default':mod};};Object.defineProperty(exports,'__esModule',{value:true});exports.VotesDialog=void 0;const jsx_runtime_1=require('react/jsx-runtime');const react_1=__importDefault(require('react'));const core_1=require('@material-ui/core');const utils_1=require('../../../../services/contracts/utils');const icons_1=require('@material-ui/icons');const utils_2=require('../../../../services/lite/utils');const useNotification_1=require('../../../common/hooks/useNotification');const CustomContent=(0,core_1.styled)(core_1.DialogContent)({padding:'0px 54px 22px 54px !important'});const CustomDialogActions=(0,core_1.styled)(core_1.DialogActions)({justifyContent:'center !important',paddingBottom:20});const CopyIcon=(0,core_1.styled)(icons_1.FileCopyOutlined)({marginLeft:8,cursor:'pointer'});const CustomTitle=(0,core_1.styled)(core_1.Typography)(({theme})=>({borderBottom:`0.3px solid ${theme.palette.primary.main}`,paddingBottom:16}));const VotesDialog=({open,handleClose,choices,symbol,decimals})=>{const descriptionElementRef=react_1.default.useRef(null);const openNotification=(0,useNotification_1.useNotification)();react_1.default.useEffect(()=>{if(open){const {current:descriptionElement}=descriptionElementRef;if(descriptionElement!==null){descriptionElement.focus();}}},[open]);const copyAddress=address=>{navigator.clipboard.writeText(address);openNotification({message:'Address copied!',autoHideDuration:2000,variant:'info'});};return(0,jsx_runtime_1.jsx)('div',{children:(0,jsx_runtime_1.jsxs)(core_1.Dialog,{disableEscapeKeyDown:true,open:open,onClose:handleClose,scroll:'paper','aria-labelledby':'scroll-dialog-title','aria-describedby':'scroll-dialog-description',children:[(0,jsx_runtime_1.jsxs)(core_1.DialogTitle,{id:'scroll-dialog-title',children:[' ',(0,jsx_runtime_1.jsxs)(CustomTitle,{color:'textPrimary',variant:'body2',children:[(0,utils_2.getTotalVoters)(choices),' Votes:']})]}),(0,jsx_runtime_1.jsx)(CustomContent,{children:(0,jsx_runtime_1.jsx)(core_1.DialogContentText,{id:'scroll-dialog-description',ref:descriptionElementRef,tabIndex:-1,children:choices.map((elem,index)=>{{return elem.walletAddresses.map((choice,num)=>{return(0,jsx_runtime_1.jsxs)(core_1.Grid,{container:true,direction:'row',alignItems:'baseline',children:[(0,jsx_runtime_1.jsxs)(core_1.Grid,{item:true,xs:6,md:4,lg:4,xl:4,container:true,direction:'row',alignItems:'center',children:[(0,jsx_runtime_1.jsxs)(core_1.Typography,{color:'textPrimary',children:[' ',(0,utils_1.toShortAddress)(choice.address)]}),(0,jsx_runtime_1.jsx)(CopyIcon,{onClick:()=>copyAddress(choice.address),color:'secondary',fontSize:'inherit'})]}),(0,jsx_runtime_1.jsx)(core_1.Grid,{item:true,xs:6,md:4,lg:4,xl:4,container:true,justifyContent:'center',children:(0,jsx_runtime_1.jsxs)(core_1.Typography,{color:'textPrimary',variant:'body1',children:[' ',elem.name,' ']})}),(0,jsx_runtime_1.jsx)(core_1.Grid,{item:true,xs:6,md:4,lg:4,xl:4,container:true,justifyContent:'flex-end',children:(0,jsx_runtime_1.jsxs)(core_1.Typography,{color:'textPrimary',variant:'body1',children:[' ',(0,utils_2.formatByDecimals)(choice.balanceAtReferenceBlock,decimals),' ',symbol,' ']})})]},`'row-'${index}${num}`);});}})})}),(0,jsx_runtime_1.jsx)(CustomDialogActions,{children:(0,jsx_runtime_1.jsx)(core_1.Button,{variant:'contained',color:'secondary',onClick:handleClose,children:'Close'})})]})});};exports.VotesDialog=VotesDialog;