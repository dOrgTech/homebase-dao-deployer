'use strict';Object.defineProperty(exports,'__esModule',{value:true});exports.ProposalTableRow=void 0;const jsx_runtime_1=require('react/jsx-runtime');const core_1=require('@material-ui/core');const RowContainer_1=require('./tables/RowContainer');const ProposalTableRowStatusBadge_1=require('./ProposalTableRowStatusBadge');const react_router_1=require('react-router');const Blockie_1=require('../../../common/Blockie');const utils_1=require('../../../../services/contracts/utils');const ChoiceDetails_1=require('./ChoiceDetails');const usePollChoices_1=require('../hooks/usePollChoices');const ArrowInfo=(0,core_1.styled)(core_1.Typography)(({theme})=>({fontFamily:'Roboto Mono',fontWeight:500,fontSize:16,[theme.breakpoints.down('xs')]:{marginTop:5}}));const Address=(0,core_1.styled)(core_1.Typography)({marginLeft:12});const BlockieContainer=(0,core_1.styled)(core_1.Grid)({marginBottom:19});const DescriptionText=(0,core_1.styled)(core_1.Typography)(({theme})=>({fontWeight:300,fontSize:18,marginBottom:25,[theme.breakpoints.down('sm')]:{fontSize:16}}));const ProposalTableRow=({poll})=>{const navigate=(0,react_router_1.useHistory)();const theme=(0,core_1.useTheme)();const isMobile=(0,core_1.useMediaQuery)(theme.breakpoints.down('xs'));const isMobileSmall=(0,core_1.useMediaQuery)(theme.breakpoints.down('sm'));const choices=(0,usePollChoices_1.usePollChoices)(poll);return(0,jsx_runtime_1.jsxs)(RowContainer_1.RowContainer,{item:true,container:true,alignItems:'center',onClick:()=>navigate.push(`/explorer/lite/dao/${poll.daoID}/community/proposal/${poll._id}`,{poll:poll}),children:[(0,jsx_runtime_1.jsxs)(BlockieContainer,{container:true,direction:'row',children:[(0,jsx_runtime_1.jsx)(Blockie_1.Blockie,{address:'tz1bQgEea45ciBpYdFj4y4P3hNyDM8aMF6WB',size:24}),(0,jsx_runtime_1.jsx)(Address,{color:'textPrimary',variant:'subtitle2',children:(0,utils_1.toShortAddress)(poll.author)})]}),(0,jsx_runtime_1.jsxs)(core_1.Grid,{container:true,item:true,style:{gap:25},xs:12,md:12,justifyContent:isMobile?'center':'flex-start',children:[(0,jsx_runtime_1.jsx)(core_1.Typography,{variant:'h4',color:'textPrimary',align:isMobile?'center':'left',children:poll.name}),(0,jsx_runtime_1.jsxs)(core_1.Grid,{container:true,direction:isMobile?'column':'row',alignItems:isMobileSmall?'center':'flex-start',wrap:'nowrap',style:{gap:18},children:[(0,jsx_runtime_1.jsx)(ProposalTableRowStatusBadge_1.TableStatusBadge,{status:poll.isActive||ProposalTableRowStatusBadge_1.ProposalStatus.ACTIVE}),(0,jsx_runtime_1.jsx)(ArrowInfo,{color:'textPrimary',children:poll.timeFormatted})]}),(0,jsx_runtime_1.jsx)(core_1.Grid,{children:(0,jsx_runtime_1.jsx)(DescriptionText,{color:'textPrimary',children:poll.description})})]}),choices&&choices.length>0?choices.map((choice,index)=>(0,jsx_runtime_1.jsx)(ChoiceDetails_1.ChoiceDetails,{poll:poll,choice:choice,index:index},`'choice-'${choice.name}${index}`)):null]});};exports.ProposalTableRow=ProposalTableRow;